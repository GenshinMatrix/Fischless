<ui:Page x:Class="Fischless.Views.PageHome"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
         xmlns:animations="clr-namespace:Fischless.Designs.Animations;assembly=Fischless.Designs"
         xmlns:controls="clr-namespace:Fischless.Designs.Controls;assembly=Fischless.Designs"
         xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
         xmlns:dd="urn:gong-wpf-dragdrop"
         xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
         xmlns:m="clr-namespace:Fischless.Models"
         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
         xmlns:ui="http://schemas.modernwpf.com/2019"
         d:DesignHeight="450"
         d:DesignWidth="800"
         FontSize="14"
         mc:Ignorable="d">
    <Grid>
        <Grid Margin="0,0,0,0"
              HorizontalAlignment="Left"
              VerticalAlignment="Bottom">
            <Image Width="418"
                   Opacity="0.3"
                   Source="/Assets/Images/UI_SummerTime_ImgDecorate_01.png" />
        </Grid>
        <Grid Margin="0,-2,5,0"
              HorizontalAlignment="Right"
              VerticalAlignment="Top">
            <Image Width="84"
                   Opacity="0.3"
                   Source="/Assets/Images/UI_Icon_GcgBossChallenges_Difficulty.png" />
        </Grid>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid Grid.Row="0" Margin="6,3,3,0">
                <StackPanel Orientation="Horizontal">
                    <Button BorderBrush="Transparent" Command="{Binding AddContactCommand}">
                        <Button.Content>
                            <StackPanel Orientation="Horizontal">
                                <ui:FontIcon FontSize="18" Glyph="{x:Bind controls:FontSymbols.AddFriend}" />
                                <TextBlock Margin="5,0,0,0" Text="添加" />
                            </StackPanel>
                        </Button.Content>
                    </Button>
                    <Button Margin="5,0,0,0"
                            BorderBrush="Transparent"
                            Command="{Binding RefreshCommand}">
                        <Button.Content>
                            <StackPanel Orientation="Horizontal">
                                <ui:FontIcon FontSize="18" Glyph="{x:Bind controls:FontSymbols.Refresh}" />
                                <TextBlock Margin="5,0,0,0" Text="刷新" />
                            </StackPanel>
                        </Button.Content>
                    </Button>
                </StackPanel>
            </Grid>

            <controls:SmoothScrollViewer Grid.Row="1"
                                         Margin="6,3,6,3"
                                         PanningMode="None"
                                         VerticalScrollBarVisibility="Visible">
                <ListView dd:DragDrop.IsDragSource="True"
                          dd:DragDrop.IsDropTarget="True"
                          ScrollViewer.CanContentScroll="False"
                          ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                          ScrollViewer.VerticalScrollBarVisibility="Visible"
                          VirtualizingPanel.IsVirtualizing="False">
                    <i:Interaction.Behaviors>
                        <controls:ListViewMouseWheelBubblingBehavior />
                    </i:Interaction.Behaviors>
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel VerticalAlignment="Top">
                                <i:Interaction.Behaviors>
                                    <animations:StackPanelChildrenTransitionsDownToUpBehavior />
                                </i:Interaction.Behaviors>
                            </StackPanel>
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                    <ListView.ItemTemplate>
                        <DataTemplate DataType="m:Contact">
                            <Grid Height="45">
                                <TextBlock Margin="0"
                                           FontSize="16"
                                           Foreground="#A0A0A0"
                                           Text="{Binding AliasName}" />
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                    <ListView.Items>
                        <m:Contact AliasName="1" />
                        <m:Contact AliasName="2" />
                        <m:Contact AliasName="3" />
                        <m:Contact AliasName="4" />
                        <m:Contact AliasName="5" />
                        <m:Contact AliasName="6" />
                        <m:Contact AliasName="7" />
                        <m:Contact AliasName="8" />
                        <m:Contact AliasName="9" />
                        <m:Contact AliasName="0" />
                    </ListView.Items>
                </ListView>
            </controls:SmoothScrollViewer>
        </Grid>
    </Grid>
</ui:Page>
